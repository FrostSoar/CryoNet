{"abstract":[{"type":"text","text":"发起一个文件上传请求。"}],"sections":[],"metadata":{"modules":[{"name":"CryoNet"}],"role":"symbol","externalID":"s:7CryoNetAAC6upload_5files10parameters7headers11interceptorAA0A6ResultVAA12RequestModelV_SayAA10UploadDataVGSDySSypGSay9Alamofire10HTTPHeaderVGAA0I19InterceptorProtocol_pSgtF","title":"upload(_:files:parameters:headers:interceptor:)","platforms":[{"deprecated":false,"introducedAt":"13.0","name":"iOS","unavailable":false,"beta":false},{"deprecated":false,"introducedAt":"13.0","name":"iPadOS","unavailable":false,"beta":false},{"deprecated":false,"introducedAt":"13.0","name":"Mac Catalyst","unavailable":false,"beta":false},{"deprecated":false,"introducedAt":"10.15","name":"macOS","unavailable":false,"beta":false}],"symbolKind":"method","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"upload"},{"kind":"text","text":"("},{"preciseIdentifier":"s:7CryoNet12RequestModelV","kind":"typeIdentifier","text":"RequestModel"},{"kind":"text","text":", "},{"kind":"externalParam","text":"files"},{"kind":"text","text":": ["},{"preciseIdentifier":"s:7CryoNet10UploadDataV","kind":"typeIdentifier","text":"UploadData"},{"kind":"text","text":"], "},{"kind":"externalParam","text":"parameters"},{"kind":"text","text":": ["},{"preciseIdentifier":"s:SS","kind":"typeIdentifier","text":"String"},{"kind":"text","text":" : "},{"kind":"keyword","text":"Any"},{"kind":"text","text":"], "},{"kind":"externalParam","text":"headers"},{"kind":"text","text":": ["},{"preciseIdentifier":"s:9Alamofire10HTTPHeaderV","kind":"typeIdentifier","text":"HTTPHeader"},{"kind":"text","text":"], "},{"kind":"externalParam","text":"interceptor"},{"kind":"text","text":": "},{"preciseIdentifier":"s:7CryoNet26RequestInterceptorProtocolP","kind":"typeIdentifier","text":"RequestInterceptorProtocol"},{"kind":"text","text":"?) -> "},{"preciseIdentifier":"s:7CryoNet0A6ResultV","kind":"typeIdentifier","text":"CryoResult"}],"roleHeading":"Instance Method","extendedModule":"CryoNet"},"hierarchy":{"paths":[["doc:\/\/cryonet.CryoNet\/documentation\/CryoNet","doc:\/\/cryonet.CryoNet\/documentation\/CryoNet\/CryoNet"]]},"identifier":{"url":"doc:\/\/cryonet.CryoNet\/documentation\/CryoNet\/CryoNet\/upload(_:files:parameters:headers:interceptor:)","interfaceLanguage":"swift"},"kind":"symbol","primaryContentSections":[{"declarations":[{"languages":["swift"],"platforms":["iOS"],"tokens":[{"kind":"attribute","text":"@discardableResult"},{"kind":"text","text":" "},{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"upload"},{"kind":"text","text":"("},{"kind":"externalParam","text":"_"},{"kind":"text","text":" "},{"kind":"internalParam","text":"model"},{"kind":"text","text":": "},{"preciseIdentifier":"s:7CryoNet12RequestModelV","identifier":"doc:\/\/cryonet.CryoNet\/documentation\/CryoNet\/RequestModel","kind":"typeIdentifier","text":"RequestModel"},{"text":", ","kind":"text"},{"text":"files","kind":"externalParam"},{"text":": [","kind":"text"},{"text":"UploadData","preciseIdentifier":"s:7CryoNet10UploadDataV","identifier":"doc:\/\/cryonet.CryoNet\/documentation\/CryoNet\/UploadData","kind":"typeIdentifier"},{"text":"], ","kind":"text"},{"text":"parameters","kind":"externalParam"},{"text":": [","kind":"text"},{"text":"String","preciseIdentifier":"s:SS","kind":"typeIdentifier"},{"text":" : ","kind":"text"},{"text":"Any","kind":"keyword"},{"kind":"text","text":"] = [:], "},{"kind":"externalParam","text":"headers"},{"kind":"text","text":": ["},{"kind":"typeIdentifier","text":"HTTPHeader","preciseIdentifier":"s:9Alamofire10HTTPHeaderV"},{"kind":"text","text":"] = [], "},{"kind":"externalParam","text":"interceptor"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"RequestInterceptorProtocol","identifier":"doc:\/\/cryonet.CryoNet\/documentation\/CryoNet\/RequestInterceptorProtocol","preciseIdentifier":"s:7CryoNet26RequestInterceptorProtocolP"},{"kind":"text","text":"? = nil) -> "},{"kind":"typeIdentifier","text":"CryoResult","identifier":"doc:\/\/cryonet.CryoNet\/documentation\/CryoNet\/CryoResult","preciseIdentifier":"s:7CryoNet0A6ResultV"}]}],"kind":"declarations"},{"parameters":[{"name":"model","content":[{"type":"paragraph","inlineContent":[{"text":"包含上传目标路径和 HTTP 方法的 ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/cryonet.CryoNet\/documentation\/CryoNet\/RequestModel"},{"text":" 实例。","type":"text"}]}]},{"name":"files","content":[{"type":"paragraph","inlineContent":[{"text":"一个 ","type":"text"},{"identifier":"doc:\/\/cryonet.CryoNet\/documentation\/CryoNet\/UploadData","isActive":true,"type":"reference"},{"text":" 数组，每个元素代表一个要上传的文件及其相关信息。","type":"text"}]}]},{"name":"parameters","content":[{"inlineContent":[{"type":"text","text":"可选的额外参数字典，将作为表单字段随文件一起上传。默认为空字典。"}],"type":"paragraph"}]},{"name":"headers","content":[{"inlineContent":[{"type":"text","text":"可选的额外 HTTP 请求头数组，将与 "},{"type":"reference","isActive":true,"identifier":"doc:\/\/cryonet.CryoNet\/documentation\/CryoNet\/CryoNetConfiguration"},{"type":"text","text":" 中的基础请求头合并。默认为空数组。"}],"type":"paragraph"}]},{"name":"interceptor","content":[{"inlineContent":[{"type":"text","text":"可选的自定义请求拦截器，如果提供，将覆盖 "},{"type":"reference","identifier":"doc:\/\/cryonet.CryoNet\/documentation\/CryoNet\/CryoNetConfiguration","isActive":true},{"type":"text","text":" 中的默认拦截器。默认为 "},{"type":"codeVoice","code":"nil"},{"type":"text","text":"。"}],"type":"paragraph"}]}],"kind":"parameters"},{"content":[{"type":"heading","level":2,"anchor":"return-value","text":"Return Value"},{"inlineContent":[{"text":"一个 ","type":"text"},{"isActive":true,"identifier":"doc:\/\/cryonet.CryoNet\/documentation\/CryoNet\/CryoResult","type":"reference"},{"text":" 实例，用于链式调用处理上传响应。","type":"text"}],"type":"paragraph"}],"kind":"content"},{"content":[{"anchor":"discussion","text":"Discussion","level":2,"type":"heading"},{"type":"paragraph","inlineContent":[{"type":"text","text":"此方法用于将文件和可选参数作为多部分表单数据上传到服务器。"},{"type":"text","text":" "},{"type":"text","text":"它会自动处理基础 URL、请求头合并以及拦截器的应用。"}]},{"anchor":"%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B","text":"使用示例","level":3,"type":"heading"},{"code":["\/\/ 假设 imageData 是要上传的 Data，imageURL 是要上传的本地文件 URL","let imageData = Data(\"some image data\".utf8)","let imageURL = URL(fileURLWithPath: \"\/path\/to\/your\/image.jpg\")","","let uploadData1 = UploadData(file: .fileData(imageData), name: \"photo\", fileName: \"my_photo.png\")","let uploadData2 = UploadData(file: .fileURL(imageURL), name: \"document\", fileName: \"report.pdf\")","","cryoNet.upload(","    MyAPI.uploadFile,","    files: [uploadData1, uploadData2],","    parameters: [\"description\": \"User profile picture\"],","    headers: [HTTPHeader(name: \"X-Custom-Upload-Header\", value: \"true\")]",")",".responseJSON { response in","    debugPrint(response)","}"],"syntax":"swift","type":"codeListing"},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":""},{"isActive":true,"type":"reference","identifier":"doc:\/\/cryonet.CryoNet\/documentation\/CryoNet\/RequestModel"},{"type":"text","text":", "},{"isActive":true,"type":"reference","identifier":"doc:\/\/cryonet.CryoNet\/documentation\/CryoNet\/UploadData"},{"type":"text","text":", "},{"isActive":true,"type":"reference","identifier":"doc:\/\/cryonet.CryoNet\/documentation\/CryoNet\/CryoResult"},{"type":"text","text":", "},{"type":"codeVoice","code":"uploadFile(_:files:parameters:headers:interceptor:config:)"}]}],"style":"note","name":"See Also","type":"aside"}],"kind":"content"}],"variants":[{"paths":["\/documentation\/cryonet\/cryonet\/upload(_:files:parameters:headers:interceptor:)"],"traits":[{"interfaceLanguage":"swift"}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"references":{"doc://cryonet.CryoNet/documentation/CryoNet/CryoNet/upload(_:files:parameters:headers:interceptor:)":{"url":"\/documentation\/cryonet\/cryonet\/upload(_:files:parameters:headers:interceptor:)","title":"upload(_:files:parameters:headers:interceptor:)","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"upload","kind":"identifier"},{"text":"(","kind":"text"},{"preciseIdentifier":"s:7CryoNet12RequestModelV","text":"RequestModel","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"files","kind":"externalParam"},{"text":": [","kind":"text"},{"preciseIdentifier":"s:7CryoNet10UploadDataV","text":"UploadData","kind":"typeIdentifier"},{"text":"], ","kind":"text"},{"text":"parameters","kind":"externalParam"},{"text":": [","kind":"text"},{"text":"String","kind":"typeIdentifier","preciseIdentifier":"s:SS"},{"text":" : ","kind":"text"},{"text":"Any","kind":"keyword"},{"text":"], ","kind":"text"},{"text":"headers","kind":"externalParam"},{"text":": [","kind":"text"},{"text":"HTTPHeader","kind":"typeIdentifier","preciseIdentifier":"s:9Alamofire10HTTPHeaderV"},{"text":"], ","kind":"text"},{"text":"interceptor","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"RequestInterceptorProtocol","kind":"typeIdentifier","preciseIdentifier":"s:7CryoNet26RequestInterceptorProtocolP"},{"text":"?) -> ","kind":"text"},{"text":"CryoResult","kind":"typeIdentifier","preciseIdentifier":"s:7CryoNet0A6ResultV"}],"abstract":[{"type":"text","text":"发起一个文件上传请求。"}],"kind":"symbol","identifier":"doc:\/\/cryonet.CryoNet\/documentation\/CryoNet\/CryoNet\/upload(_:files:parameters:headers:interceptor:)","role":"symbol","type":"topic"},"doc://cryonet.CryoNet/documentation/CryoNet/CryoResult":{"abstract":[{"type":"text","text":"CryoResult 封装了 Alamofire 的数据请求处理功能，提供同步与异步响应、模型解码、拦截器集成等能力。"}],"type":"topic","navigatorTitle":[{"text":"CryoResult","kind":"identifier"}],"url":"\/documentation\/cryonet\/cryoresult","identifier":"doc:\/\/cryonet.CryoNet\/documentation\/CryoNet\/CryoResult","title":"CryoResult","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"CryoResult","kind":"identifier"}],"role":"symbol","kind":"symbol"},"doc://cryonet.CryoNet/documentation/CryoNet":{"type":"topic","role":"collection","url":"\/documentation\/cryonet","identifier":"doc:\/\/cryonet.CryoNet\/documentation\/CryoNet","kind":"symbol","abstract":[],"title":"CryoNet"},"doc://cryonet.CryoNet/documentation/CryoNet/CryoNet":{"url":"\/documentation\/cryonet\/cryonet","title":"CryoNet","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"CryoNet"}],"abstract":[{"code":"CryoNet","type":"codeVoice"},{"type":"text","text":" 网络请求主控制器，负责管理网络配置、发起 HTTP 请求和处理文件下载等核心功能。"}],"kind":"symbol","identifier":"doc:\/\/cryonet.CryoNet\/documentation\/CryoNet\/CryoNet","role":"symbol","navigatorTitle":[{"kind":"identifier","text":"CryoNet"}],"type":"topic"},"doc://cryonet.CryoNet/documentation/CryoNet/UploadData":{"kind":"symbol","type":"topic","identifier":"doc:\/\/cryonet.CryoNet\/documentation\/CryoNet\/UploadData","abstract":[{"type":"text","text":"上传文件参数结构体"},{"type":"text","text":" "},{"type":"text","text":"封装上传文件的基本信息和数据来源（本地文件、内存数据）。"}],"url":"\/documentation\/cryonet\/uploaddata","title":"UploadData","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"UploadData","kind":"identifier"}],"navigatorTitle":[{"text":"UploadData","kind":"identifier"}],"role":"symbol"},"doc://cryonet.CryoNet/documentation/CryoNet/RequestInterceptorProtocol":{"navigatorTitle":[{"kind":"identifier","text":"RequestInterceptorProtocol"}],"url":"\/documentation\/cryonet\/requestinterceptorprotocol","type":"topic","title":"RequestInterceptorProtocol","identifier":"doc:\/\/cryonet.CryoNet\/documentation\/CryoNet\/RequestInterceptorProtocol","abstract":[{"text":"拦截器协议，支持请求与响应拦截。","type":"text"}],"kind":"symbol","role":"symbol","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"RequestInterceptorProtocol"}]},"doc://cryonet.CryoNet/documentation/CryoNet/RequestModel":{"kind":"symbol","abstract":[{"type":"text","text":"请求模型 RequestModel"},{"type":"text","text":" "},{"type":"text","text":"封装单个网络请求的所有参数，包括路径、方法、超时、编码方式等。"}],"type":"topic","url":"\/documentation\/cryonet\/requestmodel","title":"RequestModel","identifier":"doc:\/\/cryonet.CryoNet\/documentation\/CryoNet\/RequestModel","role":"symbol","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"RequestModel"}],"navigatorTitle":[{"kind":"identifier","text":"RequestModel"}]},"doc://cryonet.CryoNet/documentation/CryoNet/CryoNetConfiguration":{"navigatorTitle":[{"kind":"identifier","text":"CryoNetConfiguration"}],"identifier":"doc:\/\/cryonet.CryoNet\/documentation\/CryoNet\/CryoNetConfiguration","url":"\/documentation\/cryonet\/cryonetconfiguration","abstract":[{"code":"CryoNetConfiguration","type":"codeVoice"},{"text":" 定义了 ","type":"text"},{"code":"CryoNet","type":"codeVoice"},{"text":" 网络请求库的基础配置。","type":"text"}],"role":"symbol","title":"CryoNetConfiguration","type":"topic","kind":"symbol","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"CryoNetConfiguration"}]}}}