{"abstract":[{"type":"text","text":"发起一个文件上传请求。"}],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/cryonet.CryoNet\/documentation\/CryoNet\/CryoNet\/upload(_:files:parameters:headers:interceptor:)"},"kind":"symbol","primaryContentSections":[{"kind":"declarations","declarations":[{"languages":["swift"],"tokens":[{"text":"@discardableResult","kind":"attribute"},{"text":" ","kind":"text"},{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"upload","kind":"identifier"},{"text":"(","kind":"text"},{"text":"_","kind":"externalParam"},{"text":" ","kind":"text"},{"text":"model","kind":"internalParam"},{"text":": ","kind":"text"},{"identifier":"doc:\/\/cryonet.CryoNet\/documentation\/CryoNet\/RequestModel","text":"RequestModel","preciseIdentifier":"s:7CryoNet12RequestModelV","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"files","kind":"externalParam"},{"text":": [","kind":"text"},{"identifier":"doc:\/\/cryonet.CryoNet\/documentation\/CryoNet\/UploadData","text":"UploadData","preciseIdentifier":"s:7CryoNet10UploadDataV","kind":"typeIdentifier"},{"text":"], ","kind":"text"},{"text":"parameters","kind":"externalParam"},{"text":": [","kind":"text"},{"text":"String","preciseIdentifier":"s:SS","kind":"typeIdentifier"},{"text":" : ","kind":"text"},{"text":"Any","kind":"keyword"},{"text":"] = [:], ","kind":"text"},{"text":"headers","kind":"externalParam"},{"text":": [","kind":"text"},{"text":"HTTPHeader","preciseIdentifier":"s:9Alamofire10HTTPHeaderV","kind":"typeIdentifier"},{"text":"] = [], ","kind":"text"},{"text":"interceptor","kind":"externalParam"},{"text":": ","kind":"text"},{"identifier":"doc:\/\/cryonet.CryoNet\/documentation\/CryoNet\/RequestInterceptorProtocol","text":"RequestInterceptorProtocol","preciseIdentifier":"s:7CryoNet26RequestInterceptorProtocolP","kind":"typeIdentifier"},{"text":"? = nil) -> ","kind":"text"},{"identifier":"doc:\/\/cryonet.CryoNet\/documentation\/CryoNet\/CryoResult","text":"CryoResult","preciseIdentifier":"s:7CryoNet0A6ResultV","kind":"typeIdentifier"}],"platforms":["iOS"]}]},{"kind":"parameters","parameters":[{"name":"model","content":[{"inlineContent":[{"type":"text","text":"包含上传目标路径和 HTTP 方法的 "},{"type":"reference","identifier":"doc:\/\/cryonet.CryoNet\/documentation\/CryoNet\/RequestModel","isActive":true},{"type":"text","text":" 实例。"}],"type":"paragraph"}]},{"name":"files","content":[{"inlineContent":[{"type":"text","text":"一个 "},{"identifier":"doc:\/\/cryonet.CryoNet\/documentation\/CryoNet\/UploadData","type":"reference","isActive":true},{"type":"text","text":" 数组，每个元素代表一个要上传的文件及其相关信息。"}],"type":"paragraph"}]},{"name":"parameters","content":[{"inlineContent":[{"type":"text","text":"可选的额外参数字典，将作为表单字段随文件一起上传。默认为空字典。"}],"type":"paragraph"}]},{"name":"headers","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"可选的额外 HTTP 请求头数组，将与 "},{"type":"reference","identifier":"doc:\/\/cryonet.CryoNet\/documentation\/CryoNet\/CryoNetConfiguration","isActive":true},{"type":"text","text":" 中的基础请求头合并。默认为空数组。"}]}]},{"name":"interceptor","content":[{"type":"paragraph","inlineContent":[{"text":"可选的自定义请求拦截器，如果提供，将覆盖 ","type":"text"},{"identifier":"doc:\/\/cryonet.CryoNet\/documentation\/CryoNet\/CryoNetConfiguration","type":"reference","isActive":true},{"text":" 中的默认拦截器。默认为 ","type":"text"},{"type":"codeVoice","code":"nil"},{"text":"。","type":"text"}]}]}]},{"kind":"content","content":[{"level":2,"anchor":"return-value","text":"Return Value","type":"heading"},{"inlineContent":[{"type":"text","text":"一个 "},{"type":"reference","isActive":true,"identifier":"doc:\/\/cryonet.CryoNet\/documentation\/CryoNet\/CryoResult"},{"type":"text","text":" 实例，用于链式调用处理上传响应。"}],"type":"paragraph"}]},{"kind":"content","content":[{"anchor":"discussion","type":"heading","level":2,"text":"Discussion"},{"type":"paragraph","inlineContent":[{"text":"此方法用于将文件和可选参数作为多部分表单数据上传到服务器。","type":"text"},{"text":" ","type":"text"},{"text":"它会自动处理基础 URL、请求头合并以及拦截器的应用。","type":"text"}]},{"anchor":"%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B","type":"heading","level":3,"text":"使用示例"},{"syntax":"swift","type":"codeListing","code":["\/\/ 假设 imageData 是要上传的 Data，imageURL 是要上传的本地文件 URL","let imageData = Data(\"some image data\".utf8)","let imageURL = URL(fileURLWithPath: \"\/path\/to\/your\/image.jpg\")","","let uploadData1 = UploadData(file: .fileData(imageData), name: \"photo\", fileName: \"my_photo.png\")","let uploadData2 = UploadData(file: .fileURL(imageURL), name: \"document\", fileName: \"report.pdf\")","","cryoNet.upload(","    MyAPI.uploadFile,","    files: [uploadData1, uploadData2],","    parameters: [\"description\": \"User profile picture\"],","    headers: [HTTPHeader(name: \"X-Custom-Upload-Header\", value: \"true\")]",")",".responseJSON { response in","    debugPrint(response)","}"]},{"content":[{"inlineContent":[{"text":"","type":"text"},{"type":"reference","identifier":"doc:\/\/cryonet.CryoNet\/documentation\/CryoNet\/RequestModel","isActive":true},{"text":", ","type":"text"},{"type":"reference","identifier":"doc:\/\/cryonet.CryoNet\/documentation\/CryoNet\/UploadData","isActive":true},{"text":", ","type":"text"},{"type":"reference","identifier":"doc:\/\/cryonet.CryoNet\/documentation\/CryoNet\/CryoResult","isActive":true},{"text":", ","type":"text"},{"type":"codeVoice","code":"uploadFile(_:files:parameters:headers:interceptor:config:)"}],"type":"paragraph"}],"type":"aside","name":"See Also","style":"note"}]}],"schemaVersion":{"minor":3,"patch":0,"major":0},"metadata":{"fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"upload"},{"kind":"text","text":"("},{"preciseIdentifier":"s:7CryoNet12RequestModelV","kind":"typeIdentifier","text":"RequestModel"},{"kind":"text","text":", "},{"kind":"externalParam","text":"files"},{"kind":"text","text":": ["},{"preciseIdentifier":"s:7CryoNet10UploadDataV","kind":"typeIdentifier","text":"UploadData"},{"kind":"text","text":"], "},{"kind":"externalParam","text":"parameters"},{"kind":"text","text":": ["},{"preciseIdentifier":"s:SS","kind":"typeIdentifier","text":"String"},{"kind":"text","text":" : "},{"kind":"keyword","text":"Any"},{"kind":"text","text":"], "},{"kind":"externalParam","text":"headers"},{"kind":"text","text":": ["},{"preciseIdentifier":"s:9Alamofire10HTTPHeaderV","kind":"typeIdentifier","text":"HTTPHeader"},{"kind":"text","text":"], "},{"kind":"externalParam","text":"interceptor"},{"kind":"text","text":": "},{"preciseIdentifier":"s:7CryoNet26RequestInterceptorProtocolP","kind":"typeIdentifier","text":"RequestInterceptorProtocol"},{"kind":"text","text":"?) -> "},{"preciseIdentifier":"s:7CryoNet0A6ResultV","kind":"typeIdentifier","text":"CryoResult"}],"modules":[{"name":"CryoNet"}],"title":"upload(_:files:parameters:headers:interceptor:)","role":"symbol","externalID":"s:7CryoNetAAC6upload_5files10parameters7headers11interceptorAA0A6ResultVAA12RequestModelV_SayAA10UploadDataVGSDySSypGSay9Alamofire10HTTPHeaderVGAA0I19InterceptorProtocol_pSgtF","platforms":[{"beta":false,"name":"iOS","introducedAt":"13.0","deprecated":false,"unavailable":false},{"beta":false,"name":"iPadOS","introducedAt":"13.0","deprecated":false,"unavailable":false},{"beta":false,"name":"Mac Catalyst","introducedAt":"13.0","deprecated":false,"unavailable":false},{"beta":false,"name":"macOS","introducedAt":"10.15","deprecated":false,"unavailable":false}],"symbolKind":"method","roleHeading":"Instance Method","extendedModule":"CryoNet"},"hierarchy":{"paths":[["doc:\/\/cryonet.CryoNet\/documentation\/CryoNet","doc:\/\/cryonet.CryoNet\/documentation\/CryoNet\/CryoNet"]]},"sections":[],"variants":[{"paths":["\/documentation\/cryonet\/cryonet\/upload(_:files:parameters:headers:interceptor:)"],"traits":[{"interfaceLanguage":"swift"}]}],"references":{"doc://cryonet.CryoNet/documentation/CryoNet/CryoNet/upload(_:files:parameters:headers:interceptor:)":{"kind":"symbol","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"upload","kind":"identifier"},{"text":"(","kind":"text"},{"preciseIdentifier":"s:7CryoNet12RequestModelV","text":"RequestModel","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"files","kind":"externalParam"},{"text":": [","kind":"text"},{"preciseIdentifier":"s:7CryoNet10UploadDataV","text":"UploadData","kind":"typeIdentifier"},{"text":"], ","kind":"text"},{"text":"parameters","kind":"externalParam"},{"text":": [","kind":"text"},{"preciseIdentifier":"s:SS","text":"String","kind":"typeIdentifier"},{"text":" : ","kind":"text"},{"text":"Any","kind":"keyword"},{"text":"], ","kind":"text"},{"text":"headers","kind":"externalParam"},{"text":": [","kind":"text"},{"preciseIdentifier":"s:9Alamofire10HTTPHeaderV","text":"HTTPHeader","kind":"typeIdentifier"},{"text":"], ","kind":"text"},{"text":"interceptor","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:7CryoNet26RequestInterceptorProtocolP","text":"RequestInterceptorProtocol","kind":"typeIdentifier"},{"text":"?) -> ","kind":"text"},{"preciseIdentifier":"s:7CryoNet0A6ResultV","text":"CryoResult","kind":"typeIdentifier"}],"type":"topic","identifier":"doc:\/\/cryonet.CryoNet\/documentation\/CryoNet\/CryoNet\/upload(_:files:parameters:headers:interceptor:)","url":"\/documentation\/cryonet\/cryonet\/upload(_:files:parameters:headers:interceptor:)","abstract":[{"text":"发起一个文件上传请求。","type":"text"}],"role":"symbol","title":"upload(_:files:parameters:headers:interceptor:)"},"doc://cryonet.CryoNet/documentation/CryoNet/CryoNetConfiguration":{"fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"CryoNetConfiguration","kind":"identifier"}],"identifier":"doc:\/\/cryonet.CryoNet\/documentation\/CryoNet\/CryoNetConfiguration","navigatorTitle":[{"text":"CryoNetConfiguration","kind":"identifier"}],"url":"\/documentation\/cryonet\/cryonetconfiguration","role":"symbol","type":"topic","title":"CryoNetConfiguration","kind":"symbol","abstract":[{"type":"codeVoice","code":"CryoNetConfiguration"},{"type":"text","text":" 定义了 "},{"type":"codeVoice","code":"CryoNet"},{"type":"text","text":" 网络请求库的基础配置。"}]},"doc://cryonet.CryoNet/documentation/CryoNet/UploadData":{"identifier":"doc:\/\/cryonet.CryoNet\/documentation\/CryoNet\/UploadData","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"UploadData"}],"role":"symbol","url":"\/documentation\/cryonet\/uploaddata","type":"topic","kind":"symbol","navigatorTitle":[{"kind":"identifier","text":"UploadData"}],"abstract":[{"type":"text","text":"上传文件参数结构体"},{"type":"text","text":" "},{"type":"text","text":"封装上传文件的基本信息和数据来源（本地文件、内存数据）。"}],"title":"UploadData"},"doc://cryonet.CryoNet/documentation/CryoNet/CryoResult":{"type":"topic","url":"\/documentation\/cryonet\/cryoresult","title":"CryoResult","navigatorTitle":[{"kind":"identifier","text":"CryoResult"}],"fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"CryoResult"}],"kind":"symbol","role":"symbol","abstract":[{"text":"CryoResult 封装了 Alamofire 的数据请求处理功能，提供同步与异步响应、模型解码、拦截器集成等能力。","type":"text"}],"identifier":"doc:\/\/cryonet.CryoNet\/documentation\/CryoNet\/CryoResult"},"doc://cryonet.CryoNet/documentation/CryoNet/RequestModel":{"url":"\/documentation\/cryonet\/requestmodel","identifier":"doc:\/\/cryonet.CryoNet\/documentation\/CryoNet\/RequestModel","title":"RequestModel","abstract":[{"type":"text","text":"请求模型 RequestModel"},{"type":"text","text":" "},{"type":"text","text":"封装单个网络请求的所有参数，包括路径、方法、超时、编码方式等。"}],"kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"RequestModel"}],"fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"RequestModel"}],"role":"symbol"},"doc://cryonet.CryoNet/documentation/CryoNet/RequestInterceptorProtocol":{"url":"\/documentation\/cryonet\/requestinterceptorprotocol","navigatorTitle":[{"text":"RequestInterceptorProtocol","kind":"identifier"}],"type":"topic","identifier":"doc:\/\/cryonet.CryoNet\/documentation\/CryoNet\/RequestInterceptorProtocol","title":"RequestInterceptorProtocol","role":"symbol","abstract":[{"text":"拦截器协议，支持请求与响应拦截。","type":"text"}],"fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"RequestInterceptorProtocol"}],"kind":"symbol"},"doc://cryonet.CryoNet/documentation/CryoNet/CryoNet":{"url":"\/documentation\/cryonet\/cryonet","identifier":"doc:\/\/cryonet.CryoNet\/documentation\/CryoNet\/CryoNet","kind":"symbol","abstract":[{"code":"CryoNet","type":"codeVoice"},{"text":" 网络请求主控制器，负责管理网络配置、发起 HTTP 请求和处理文件下载等核心功能。","type":"text"}],"navigatorTitle":[{"kind":"identifier","text":"CryoNet"}],"title":"CryoNet","type":"topic","role":"symbol","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"CryoNet"}]},"doc://cryonet.CryoNet/documentation/CryoNet":{"role":"collection","title":"CryoNet","abstract":[],"type":"topic","url":"\/documentation\/cryonet","identifier":"doc:\/\/cryonet.CryoNet\/documentation\/CryoNet","kind":"symbol"}}}